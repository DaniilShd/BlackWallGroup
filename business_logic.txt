Общая бизнес-логика серверной части приложения

1)	На стороне клиента формируется запрос на снятие средств или пополнение счета. Метод запроса POST. URL запроса имеет следующий вид: 

http://{domain}/clients/{id_client}

2)	Обращение к базе данных происходит только после выполнения предварительных проверок (например: правильно ли заполнены необходимые поля)
3)	Список успешно выполненных транзакций формируется в базе данный. У каждого клиента хранится своя история выполнения транзакций. Клиент в любой момент может запросить историю по следующему URL:

http://{domain}/clients/{id_client}

4)	Транзакции разделяются на два вида, снятие средств и пополнение счета. Вид транзакции указывается в POST-запросе. Транзакция не выполняется (откатывается назад) при возникновении любой ошибки в ходе выполнения транзакции или при падении сервера. 

Общую схему бизнес-логики и архитектуру базы данных смотри в приложенных файлах.

Примеры выполнения запросов

1)	Запрос на выполнение транзакции
Клиент отправляет POST запрос http://{domain}/clients/{id_client}, json-данные в теле сообщения имеют следующий вид:
{
    "amount": 500,
    "type_transaction": "withdraw"
}
При удачной обработке запроса ответ от сервера имеет следующий вид:
{
    "History": [
        {
            "transaction_id": "8",
            "type_transaction": "deposit",
            "amount": 500
        },
        {
            "transaction_id": "14",
            "type_transaction": "withdraw",
            "amount": 500
        }
    ]
}


2)	Запрос истории транзакций
Клиент отправляет GET запрос вида http://{domain}/history/{id_client}

Если клиент с таким id присутствует в базе данных сервер отправляет json-данные следующего вида: 
{
    "History": [
        {
            "transaction_id": "8",
            "type_transaction": "deposit",
            "amount": 500
        },
        {
            "transaction_id": "14",
            "type_transaction": "withdraw",
            "amount": 500
        }
    ]
}
В противном случае возвращается ошибка "Client does not exist"